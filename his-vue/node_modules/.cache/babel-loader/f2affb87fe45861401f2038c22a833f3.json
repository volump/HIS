{"remainingRequest":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\src\\utils\\axiosUtil.js","dependencies":[{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\src\\utils\\axiosUtil.js","mtime":1601001435000},{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IExvYWRpbmcsIE1lc3NhZ2UsIE1lc3NhZ2VCb3ggfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAnaHR0cDovLzEyNy4wLjAuMTo4MDg4JzsgLy8g5oum5oiq6K+35rGC77yM5re75Yqg6K+35rGC5aS0CgpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGlmIChjb25maWcudXJsICE9PSAnL2xvZ2luJykgewogICAgdmFyIHRva2VuID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CgogICAgaWYgKCF0b2tlbikgewogICAgICBNZXNzYWdlQm94LmFsZXJ0KCfnmbvlvZXkv6Hmga/lt7Lov4fmnJ/vvIzor7fph43mlrDnmbvlvZUnLCAn55m75b2V6L+H5pyfJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6Lez6L2s5Yiw55m75b2V6aG1JywKICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soYWN0aW9uKSB7CiAgICAgICAgICByb3V0ZXIucHVzaCgnLycpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gdG9rZW47CiAgfSAvLyDlnKjmnIDlkI7lv4XpobsgcmV0dXJuIGNvbmZpZwoKCiAgcmV0dXJuIGNvbmZpZzsKfSk7CmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICAvLyBjb25zb2xlLmRpcihlcnIpCiAgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNCkgewogICAgTWVzc2FnZS5lcnJvcign5peg5rOV6K+35rGC5YiwJyArIGVyci5yZXNwb25zZS5jb25maWcuYmFzZVVSTCArIGVyci5yZXNwb25zZS5kYXRhLnBhdGgpOwogIH0KfSk7CnZhciBsb2FkTXNnR2V0ID0gewogIGxvY2s6IHRydWUsCiAgdGV4dDogJ+aVsOaNruWKoOi9veS4rScsCiAgc3Bpbm5lcjogJ2VsLWljb24tbG9hZGluZycsCiAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KScKfTsKdmFyIGxvYWRNc2dQdXQgPSB7CiAgbG9jazogdHJ1ZSwKICB0ZXh0OiAn5pWw5o2u5o+Q5Lqk5LitJywKICBzcGlubmVyOiAnZWwtaWNvbi1sb2FkaW5nJywKICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJwp9OwoKdmFyIGNhbGxiYWNraGFuZGxlciA9IGZ1bmN0aW9uIGNhbGxiYWNraGFuZGxlcihwcm9taXNlLCBjYWxsYmFjaywgbG9hZGluZykgewogIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAyMDApIHsKICAgICAgTWVzc2FnZS5zdWNjZXNzKHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CiAgICAgIGNhbGxiYWNrKHJlc3BvbnNlLmRhdGEpOwogICAgfSBlbHNlIHsKICAgICAgTWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgIE1lc3NhZ2UuZXJyb3IoJ+acjeWKoeWZqOWPkeeUn+mUmeivr++8jOato+WcqOiBlOezu+eoi+W6j+WRmOWwj+WTpeWTpeaOkuafpeS4rS4uLi4uJyk7CiAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICBsb2FkaW5nLmNsb3NlKCk7CiAgfSk7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgZ2V0OiBmdW5jdGlvbiBnZXQodXJsLCBjYWxsYmFjaykgewogICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICB2YXIgbG9hZGluZyA9IExvYWRpbmcuc2VydmljZShsb2FkTXNnR2V0KTsKICAgIGNhbGxiYWNraGFuZGxlcihheGlvcy5nZXQodXJsLCB7CiAgICAgIHBhcmFtczogcGFyYW1zCiAgICB9KSwgY2FsbGJhY2ssIGxvYWRpbmcpOwogIH0sCiAgcG9zdDogZnVuY3Rpb24gcG9zdCh1cmwsIGNhbGxiYWNrKSB7CiAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICB2YXIgbG9hZGluZyA9IExvYWRpbmcuc2VydmljZShsb2FkTXNnUHV0KTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICB9LCAxMDAwMCk7CiAgICBjYWxsYmFja2hhbmRsZXIoYXhpb3MucG9zdCh1cmwsIGRhdGEpLCBjYWxsYmFjaywgbG9hZGluZyk7CiAgfSwKICBwdXQ6IGZ1bmN0aW9uIHB1dCh1cmwsIGNhbGxiYWNrKSB7CiAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICB2YXIgbG9hZGluZyA9IExvYWRpbmcuc2VydmljZShsb2FkTXNnUHV0KTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICB9LCAxMDAwMCk7CiAgICBjYWxsYmFja2hhbmRsZXIoYXhpb3MucHV0KHVybCwgZGF0YSksIGNhbGxiYWNrLCBsb2FkaW5nKTsKICB9LAogIGRlbDogZnVuY3Rpb24gZGVsKHVybCwgY2FsbGJhY2spIHsKICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogICAgTWVzc2FnZUJveC5jb25maXJtKCfnoa7lrpropoHliKDpmaTmlbDmja7lkJc/JywgJ+WIoOmZpOaTjeS9nCcsIHsKICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGxvYWRpbmcgPSBMb2FkaW5nLnNlcnZpY2UobG9hZE1zZ1B1dCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgfSwgMTAwMDApOwogICAgICBjYWxsYmFja2hhbmRsZXIoYXhpb3MuZGVsZXRlKHVybCwgewogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0pLCBjYWxsYmFjaywgbG9hZGluZyk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJldHVybiBlcnI7CiAgICB9KTsKICB9LAogIC8vIOiusuWOn+eUn+eahGF4aW9zIOaatOmcsiDvvIzoh6rlrprkuYnkvb/nlKgKICBodHRwOiBheGlvcwp9Ow=="},{"version":3,"sources":["D:/高级技术视频/11期医院管理系统/his/his-vue/src/utils/axiosUtil.js"],"names":["axios","Loading","Message","MessageBox","router","defaults","baseURL","interceptors","request","use","config","url","token","window","sessionStorage","getItem","alert","confirmButtonText","callback","action","push","headers","Authorization","response","err","status","error","data","path","loadMsgGet","lock","text","spinner","background","loadMsgPut","callbackhandler","promise","loading","then","success","message","catch","finally","close","get","params","service","post","setTimeout","put","del","confirm","cancelButtonText","type","delete","http"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { Loading, Message, MessageBox } from 'element-ui'\nimport router from '@/router'\naxios.defaults.baseURL = 'http://127.0.0.1:8088'\n\n// 拦截请求，添加请求头\naxios.interceptors.request.use(config => {\n  if (config.url !== '/login') {\n    const token = window.sessionStorage.getItem('token')\n    if (!token) {\n      MessageBox.alert('登录信息已过期，请重新登录', '登录过期', {\n        confirmButtonText: '跳转到登录页',\n        callback: action => { router.push('/') }\n      })\n      return\n    }\n    config.headers.Authorization = token\n  }\n  // 在最后必须 return config\n  return config\n})\n\naxios.interceptors.response.use(config => config,\n  err => {\n    // console.dir(err)\n    if (err.response.status === 404) {\n      Message.error('无法请求到' + err.response.config.baseURL + err.response.data.path)\n    }\n  }\n)\n\nconst loadMsgGet = {\n  lock: true,\n  text: '数据加载中',\n  spinner: 'el-icon-loading',\n  background: 'rgba(255, 255, 255, 0.7)'\n}\n\nconst loadMsgPut = {\n  lock: true,\n  text: '数据提交中',\n  spinner: 'el-icon-loading',\n  background: 'rgba(255, 255, 255, 0.7)'\n}\n\nconst callbackhandler = (promise, callback, loading) => {\n  promise.then(\n    response => {\n    // console.log(response)\n      if (response.data.status === 200) {\n        Message.success(response.data.message)\n        callback(response.data)\n      } else {\n        Message.error(response.data.message)\n      }\n    }\n  ).catch(() => {\n    Message.error('服务器发生错误，正在联系程序员小哥哥排查中.....')\n  }).finally(() => {\n    loading.close()\n  })\n}\n\nexport default {\n  get (url, callback, params = {}) {\n    const loading = Loading.service(loadMsgGet)\n    callbackhandler(axios.get(url, { params: params }), callback, loading)\n  },\n\n  post (url, callback, data = {}) {\n    const loading = Loading.service(loadMsgPut)\n    setTimeout(() => {\n      loading.close()\n    }, 10000)\n    callbackhandler(axios.post(url, data), callback, loading)\n  },\n\n  put (url, callback, data = {}) {\n    const loading = Loading.service(loadMsgPut)\n    setTimeout(() => {\n      loading.close()\n    }, 10000)\n    callbackhandler(axios.put(url, data), callback, loading)\n  },\n\n  del (url, callback, params = {}) {\n    MessageBox.confirm('确定要删除数据吗?', '删除操作', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }).then(() => {\n      const loading = Loading.service(loadMsgPut)\n      setTimeout(() => {\n        loading.close()\n      }, 10000)\n      callbackhandler(axios.delete(url, { params: params }), callback, loading)\n    }).catch(err => err)\n  },\n  // 讲原生的axios 暴露 ，自定义使用\n  http: axios\n}\n"]}]}