{"remainingRequest":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\src\\components\\constant-item\\edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\src\\components\\constant-item\\edit.vue","mtime":1601001435000},{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\高级技术视频\\11期医院管理系统\\his\\his-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1x1OUFEOFx1N0VBN1x1NjI4MFx1NjcyRlx1ODlDNlx1OTg5MS8xMVx1NjcxRlx1NTMzQlx1OTY2Mlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERi9oaXMvaGlzLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29uc3RhbnRJdGVtRWRpdCcsCiAgcHJvcHM6IFsnZWRpdGlkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICB0eXBlSWQ6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGNvZGU6ICcnLAogICAgICAgIHNvcnQ6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgY29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+e8lueggeS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDEsCiAgICAgICAgICBtYXg6IDEwMCwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblnKggMSDliLAgMTAwIOS4quWtl+espicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn57G75Yir5ZCN5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMSwKICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCAxIOWIsCAxMDAg5Liq5a2X56ymJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydjb25zdGFudFR5cGVzJ10pKSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0Q29uc3RhbnRUeXBlcycpOwoKICAgIGlmICh0aGlzLmVkaXRpZCkgewogICAgICAvLyDpgJrov4dpZCDor7vljp/lp4vmlbDmja4KICAgICAgdGhpcy4kYXhpb3MuZ2V0KCIvY29uc3RhbnRJdGVtcy8iLmNvbmNhdCh0aGlzLmVkaXRpZCksIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmZvcm0udHlwZUlkID0gU3RyaW5nKHJlc3BvbnNlLmRhdGEudHlwZUlkKTsKICAgICAgICBfdGhpcy5mb3JtLmNvZGUgPSByZXNwb25zZS5kYXRhLmNvZGU7CiAgICAgICAgX3RoaXMuZm9ybS5uYW1lID0gcmVzcG9uc2UuZGF0YS5uYW1lOwogICAgICAgIF90aGlzLmZvcm0uc29ydCA9IHJlc3BvbnNlLmRhdGEuc29ydDsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47CgogICAgICAgIGlmIChfdGhpczIuZWRpdGlkKSB7CiAgICAgICAgICBfdGhpczIuJGF4aW9zLnB1dCgiL2NvbnN0YW50SXRlbXMvIi5jb25jYXQoX3RoaXMyLmVkaXRpZCksIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAvLyDlrZDnu4Tku7bopoHmlLnlj5jniLbnu4Tku7bnmoTlgLwKICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCd1cGRhdGU6c2hvdycsIGZhbHNlKTsKCiAgICAgICAgICAgIF90aGlzMi4kZW1pdCgnZ2V0RGF0YScpOwogICAgICAgICAgfSwgX3RoaXMyLmZvcm0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJGF4aW9zLnBvc3QoJy9jb25zdGFudEl0ZW1zJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIC8vIOWtkOe7hOS7tuimgeaUueWPmOeItue7hOS7tueahOWAvAogICAgICAgICAgICBfdGhpczIuJGVtaXQoJ3VwZGF0ZTpzaG93JywgZmFsc2UpOwoKICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCdnZXREYXRhJyk7CiAgICAgICAgICB9LCBfdGhpczIuZm9ybSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,KAAA,EAAA,CAAA,QAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,IAAA,EAAA;AAJA,OADA;AAOA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,OAAA,EAAA,iBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA,QAAA,IAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,OAAA,EAAA,iBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA;AALA;AAPA,KAAA;AAkBA,GAtBA;AAuBA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,eAAA,CAAA,CADA,CAvBA;AA0BA,EAAA,OA1BA,qBA0BA;AAAA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,kBAAA;;AACA,QAAA,KAAA,MAAA,EAAA;AACA;AACA,WAAA,MAAA,CAAA,GAAA,0BAAA,KAAA,MAAA,GAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,MAAA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,OALA;AAMA;AACA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,CAAA,KAAA,EAAA;;AACA,YAAA,MAAA,CAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,GAAA,0BAAA,MAAA,CAAA,MAAA,GAAA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,aAAA,EAAA,KAAA;;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AACA,WAJA,EAIA,MAAA,CAAA,IAJA;AAKA,SANA,MAMA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,gBAAA,EAAA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,aAAA,EAAA,KAAA;;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AACA,WAJA,EAIA,MAAA,CAAA,IAJA;AAKA;AACA,OAfA;AAgBA;AAlBA;AAtCA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"120px\">\n      <el-form-item label=\"常数类别\" prop=\"typeId\">\n        <el-select v-model=\"form.typeId\" placeholder=\"常数类别\">\n          <el-option v-for=\"(item, id) in constantTypes\"\n          :key=\"id\"\n          :label=\"item.name\"\n          :value=\"id\">\n          </el-option>\n        </el-select>\n\n      </el-form-item>\n\n      <el-form-item label=\"常数项代码\" prop=\"code\">\n        <el-input v-model=\"form.code\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"常数项名称\" prop=\"name\">\n        <el-input v-model=\"form.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"排序序号\" prop=\"sort\">\n        <el-input v-model=\"form.sort\"></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" plain @click=\"save\">保存数据</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'ConstantItemEdit',\n  props: ['editid'],\n  data () {\n    return {\n      form: {\n        typeId: '',\n        name: '',\n        code: '',\n        sort: ''\n      },\n      rules: {\n        code: [\n          { required: true, message: '编码不能为空', trigger: 'blur' },\n          { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }\n        ],\n        name: [\n          { required: true, message: '类别名不能为空', trigger: 'blur' },\n          { min: 1, max: 100, message: '长度在 1 到 100 个字符', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  computed: {\n    ...mapState(['constantTypes'])\n  },\n  created () {\n    this.$store.dispatch('getConstantTypes')\n    if (this.editid) {\n      // 通过id 读原始数据\n      this.$axios.get(`/constantItems/${this.editid}`, response => {\n        this.form.typeId = String(response.data.typeId)\n        this.form.code = response.data.code\n        this.form.name = response.data.name\n        this.form.sort = response.data.sort\n      })\n    }\n  },\n  methods: {\n    save () {\n      this.$refs.form.validate(valid => {\n        if (!valid) return\n        if (this.editid) {\n          this.$axios.put(`/constantItems/${this.editid}`, response => {\n            // 子组件要改变父组件的值\n            this.$emit('update:show', false)\n            this.$emit('getData')\n          }, this.form)\n        } else {\n          this.$axios.post('/constantItems', response => {\n            // 子组件要改变父组件的值\n            this.$emit('update:show', false)\n            this.$emit('getData')\n          }, this.form)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/components/constant-item"}]}